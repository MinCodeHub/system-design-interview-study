- 발표자 : 한민주
- 날짜 : 2024-04-03(수)
- 내용 : 7장. 분산 시스템을 위한 유일 ID 생성기 설계

---
## 질문
> 1. 트위터 스노레이크 시퀀스가 어떻게 사용되고 왜 존재하는지?

트위터 스노플레이크 시퀀스는 트위터에서 고유 식별자를 생성하는 데 사용되는 방법이다. 이 시퀀스는 분산 환경에서 고유성을 보장하기 위해 설계되었다. 스노플레이크 식별자는 일반적으로 64비트의 정수로 표현된다. 이 식별자는 일부 비트가 서버의 식별자, 타임스탬프 및 일련번호로 구성된다. 이러한 조합은 트위터 시스템 내에서 고유성을 보장하며, 동시에 생성되는 여러 개의 서버 간에 충돌을 방지한다. 트위터 스노플레이크 시퀀스는 분산 시스템에서 데이터의 유일성을 보장하는 중요한 방법 중 하나로 널리 사용된다고 한다. 이를 통해 트위터와 같은 대규모 플랫폼은 수백만 명의 사용자와 대량의 데이터를 처리하면서도 고유한 키를 생성할 수 있다.
<br>

> 2. 트위터 스노플레이크 시퀀스가 1밀리초마다 시퀀스를 0으로 초기화하는 이유는 무엇일까?

1밀리초마다 sequence를 0으로 초기화하는 이유는 시간이 지남에 따라 sequence가 계속해서 증가하다보면 어느 순간 sequence가 최대값에 도달하여 오버플로우(overflow)가 발생할 수 있기 때문이다. 이러한 시나리오에서는 동일한 서버에서 생성되는 식별자가 중복되거나, 심지어는 서로 다른 서버에서 생성되는 식별자도 중복될 수 있다. 이는 데이터의 무결성을 해치게 되고, 분산 시스템의 식별자의 유일성을 보장할 수 없게 된다. 따라서 sequence를 일정 주기(여기서는 1밀리초)마다 초기화하여 sequence 값이 증가하는 동안에도 식별자가 중복되지 않도록 보장한다. 이를 통해 분산 시스템에서 생성되는 식별자가 고유하게 유지될 수 있다.

<br>

> 3. 69년이 지나면 어떻게 되는지?

69년이 경과하면 스노플레이크에서 사용되는 타임스탬프의 범위가 한계에 다다를 수 있기 때문에 기원시각을 바꾸거나 아이디 체계를 조정해야한다.

---
## 기타 논의사항

-
-
-
