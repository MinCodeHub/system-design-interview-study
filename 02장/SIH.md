# 계략적인 규모 추정
보편적으로 사용되는 성능 수치 항목들을 추정해서 계산하는 것

2의 제곱수
---
최소 단위는 1바이트이고, 8비트로 구성

아스키 문자 하나가 차지하는 메모리의 크기가 1바이트 이고 보통 많이 사용되는 UTF-8의 경우 1~4 바이트가 사용

한글 또는 다국어를 고려할 때 한 단어를 4바이트 까지 고려하는 것이 좋을 것 같음

<table>
<tr>
    <td>2의 x제곱</td>
    <td>근사치</td>
    <td>이름</td>
    <td>축약형</td>
</tr>
<tr>
<td>10</td>
<td>1천(thousand)</td>
<td>1킬로바이트(kilobyte)</td>
<td>1KB</td>
</tr>
<tr>
<td>20</td>
<td>1백(millons)</td>
<td>1메가바이트(megabyte)</td>
<td>1MB</td>
</tr>
<tr>
<td>30</td>
<td>10억(billian)</td>
<td>1기가바이트(gigabyte)</td>
<td>1GB</td>
</tr>
<tr>
<td>40</td>
<td>1조(trilion)</td>
<td>1테라바이트(terabyte)</td>
<td>1TB</td>
</tr>
<tr>
<td>50</td>
<td>1000조(quadrillion)</td>
<td>1페타바이트(petabyte)</td>
<td>1PB</td>
</tr>
</table>

모든 프로그래머가 알아야하는 응답 지연 값
---
** 자세한 수치들을 표2-2 참고 바람

메모리는 빠르지만 디스크는 아직도 느림

디스크 탐색은 가능한 피하라

단순한 압축 알고리즘은 빠르다

데이터를 인터넷으로 전송하기 전에 가능하면 압축하라(gzip)

데이터 센터는 보통 여러 지역에 분산되어 있고 센터들 간에 데이터를 주고받는데는 시간이 걸림



가용성에 관계된 수치들
---

고가용성은 시스템이 오랜 시간 동안 지속적으로 중단 없이 운영될 수 있는 능력을 지칭하는 용어.

100% : 시스템이 단 한 번도 중단된 적이 없었음을 의미함.

대부분의 서비스는 99% ~ 100% 사이의 값을 갖음.

아마존, 구글 그리고 마이크로소프트 같은 사업자는 99% 이상의 가용률을 보여줌.

9가 많을 수록 좋음

예제: 트위터 QPS와 저장소 요구량 추정
---

가정
- 월간 능동 사용자(monthly active user)는 3억(300million)명
- 50%의 사용자가 트위터를 매일 사용
- 평균적으로 각 사용자는 매일 2건의 트윗을 올림
- 미디어를 포함하는 트윗은 10% 정도
- 데이터는 5년간 보관

추정
QPS(Query Per Second) 추정치
- 일간 능동 사용자(Daily ActiveUser, DAU) = 3억 * 50% = 1.5억(150million)
- QPS = 1.5억 * 2트윗/24시간/3600초 = 약 3500
- 최대 QPS(Peek QPS) = 2 * QPS = 약 7000

미디어 저장을 위한 저장소 요구량
- 평균 트윗 크기
  - tweet_id에 64바이트
  - 텍스트에 140바이트
  - 미디어에 1MB
- 미디어 저장소 요구량: 1.5억*2*10%*1MB = 30TB/일
- 5년간 미디어를 보관하기 위한 저장소 요구량 : 30TB * 365 * 5 = 약 55PB

